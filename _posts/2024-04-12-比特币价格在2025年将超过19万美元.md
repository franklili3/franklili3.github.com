---
layout: post
category : 收益
# tagline: "Supporting tagline"
tags : [比特币, 价格, 预测, 模型, 预警, 策略]
---
{% include JB/setup %}


在长期策略中，我深入挖掘了影响比特币价格的关键因素。通过精确计算这些因素与比特币价格的相关性，我发现它们与比特币的价值紧密相连。为了更有效地预测比特币的合理价格，我构建了一个预测模型，根据历史经验，确定了价格偏差的极限值，并计算出了价格的上下限，观察比特币价格和价格上下限就能指导交易，根据目前的数据，计算出2025年比特币价格的上限。历史模拟证明，该模型的预测结果与实际价格的吻合度相当高，这充分证明了其在预测价格波动中的可靠性。

正如格林斯潘所说：“当未来难以预测，前景不明时，人们往往会选择停滞不前，避免风险，甚至放弃原有的计划。”对比特币的预测充满了挑战，但我们已经迈出了探索的第一步。

目录：

第一步：识别对比特币价格影响最大的因素

第二步：建立比特币价格预测模型

第三步：寻找熊市底部和牛市顶部的预警指标

第四步：预测2025年比特币价格上限

第五步：验证比特币预警指标的绩效

## 第一步：识别对比特币价格影响最大的因素

*相关系数：衡量影响力的数学概念*

为了预测比特币的价格走势，我们需要深入挖掘对比特币价格产生最大影响的因素。这些因素或变量可以用数学或统计的相关系数来表示。相关系数是衡量两个变量之间关联程度的指标，其值介于-1和1之间。当值为1时，表示两个变量完全正相关；当值为-1时，表示两个变量完全负相关。

以玉米和生猪价格为例，玉米价格的上涨通常会导致生猪价格相应上涨，因为玉米是生猪养殖的主要饲料来源。在这种情况下，玉米和生猪价格的相关系数约为0.3。这意味着玉米是影响生猪价格的一个因素。再比如，如果一个射击运动员的成绩提高，而另一个射击运动员由于心理压力增大导致成绩下降，那么我们可以说前者是影响后者成绩的一个因素。

因此，为了找出对比特币价格影响最大的因素，我们需要找到与比特币价格相关系数最大的因素。如果通过对比特币价格和链上数据的相关性分析，发现某个链上数据因子与比特币价格的相关系数最大，那么这个链上数据因子就可以被确定为对比特币价格影响最大的因素。经过计算，我们发现**🔵**比特币区块数是对比特币价格影响最大的因素之一。从历史数据中可以明显看出，
**🔵**比特币区块数与比特币价格的变动方向基本保持一致。通过对过去十年数据的分析，我们得出了
**🔵**比特币区块数与比特币价格的日线相关系数为0.93的结论。

## 第二步：建立比特币价格预测模型

*预测模型：用什么公式预测比特币价格？*

在各种预测模型中，线性函数因其较高的准确率而成为首选模型。以标准体重为例，其线性函数的图像是一条直线，这正是我们选择线性函数模型的原因。然而，比特币的价格与其区块数的增长速度极快，这并不符合线性函数的特性。因此，为了使两者更符合线性函数的特点，我们首先对两者进行对数转换。观察对比特币价格和区块数的对数图，我们可以发现，在对数转换后，两者更符合线性函数的特性。基于这一特性，我们选择线性回归模型来建立预测模型。

从下图中可以看出，实际的红绿K线围绕预测的**🟢**蓝绿色线上下波动。这些预测值是基于比特币的基本面因子得出的，这些基本面因子支撑着比特币的价值，反映了其合理价值。这一图景与马克思在《资本论》中提出的“价格围绕价值波动”的理论相吻合。

![TradingView图片](https://www.tradingview.com/x/pHsM8QMA/ "TradingView图片")

比特币的预测市值对数是通过模型计算得出的。比特币价格预测值的具体计算公式如下：

    btc_predicted_marketcap = math.exp(btc_predicted_marketcap_log)

    btc_predicted_price = btc_predicted_marketcap / btc_supply`

## 第三步：寻找比特币熊市底部和牛市顶部的预警指标

*预警指标：如何判断比特币价格已经到达熊市底部或牛市顶部？*

通过观察上文的比特币价格对数预测图，我们发现，在市场的熊市底部时，实际价格往往低于预测值；而在牛市顶峰时，实际价格则超过预测值。这个规律显示，实际值与预测值的偏差能够作为预警的一种信号。当比特币价格偏差值很低，🟩绿色背景的图表显示这通常意味着我们正处于熊市底部；相反，当**🟠**比特币价格偏差值高企，🟥红色背景的图表表明我们正处于牛市顶部。

这个规律已经经过了六次牛市和熊市的验证，偏差值确实具备预警作用，可以作为我们判断市场走势的重要参考指标。

比特币价格偏差值的计算公式如下：

    btc_price_bias = btc_marketcap_log - btc_predicted_marketcap_log

我们可以通过观察比特币价格对数和比特币价格偏差图来找到规律。例如，在2015年8月25日，**🟠**比特币价格偏差位于最低值-1.11；在2017年12月17日，
**🟠**比特币价格偏差位于当时的最高值1.69；在2020年3月16日，
**🟠**比特币价格偏差位于当时的最低值-0.91；在2021年3月13日，
**🟠**比特币价格偏差位于当时的最高值1.1；在2022年12月31日，
**🟠**比特币价格偏差位于当时的最低值-1。

基于保守的原因，我们将预警指标比特币价格偏差的下限值设为三个最低值中较大的-0.9，上限值设为两个最高值中较小的1。

当我们把比特币价格偏差的上限值和下限值加上预测价格时，就得到了价格的**🟠**上限值和🟤下限值。就可以直观地指导交易了。当比特币价格低于价格下限时，买入。当比特币价格高于价格上限时，卖出。

![TradingView图片](https://www.tradingview.com/x/86QUlVVQ/ "TradingView图片")

价格的上下限值的计算公式如下：

    btc_price_upper_limit = math.exp(btc_predicted_price_log + btc_price_bias_upper_limit)

    btc_price_lower_limit = math.exp(btc_predicted_price_log + btc_price_bias_lower_limit)

## 第四步：预测2025年比特币价格上限

根据2024年2月25日的数据计算出的比特币价格上限为194287美元，这是这轮牛市的价格上限。上轮牛市的最高点在2021年11月9日，为68664美元，牛熊市周期为4年，所以这轮牛市的价格最高点预计在2025年，比特币价格上限将超过19万美元。2024年2月25日比特币收盘价为51729美元，预计涨幅为2.7倍。

## 第五步：验证比特币预警指标的绩效

*验证模型的准确性：如何判断比特币价格模型的准确性？*

模型的准确性用确定系数R方来表示，它反映预测值与实际值之间的匹配度。我将所有历史数据从2015年8月18日分为两组，2011年8月18日至2015年8月18日的数据作为训练数据，用于生成模型。计算结果显示，2011-2015年训练期的确定系数R方高达0.81，这说明该模型的准确率相当高。从下图中的比特币价格对数预测图可以看出，预测值与实际值的偏离并不远，这意味着大部分预测值都能很好地解释实际值。

确定系数R方的计算公式如下：

    residual = btc_close_log- btc_predicted_price_log

    residual_square = residual * residual

    train_residual_square_sum = math.sum(residual_square, train_days)

    train_mse = train_residual_square_sum / train_days

    train_r2 = 1 - train_mse / ta.variance(btc_close_log, train_days)

*验证模型的可靠性：如何确认有新数据时比特币价格模型的可靠性？*

模型的可靠性通过模型验证来实现。我将训练期的最后一天至2024年2月2日设为“验证组”，用此作为验证数据来检验模型的可靠性。这意味着在生成模型后，如果有了新的数据，我会将这些新数据与模型一起用于预测，然后评估模型的准确性。如果使用验证数据时的确定系数与之前训练时的确定系数相近，且都保持在一个较高的水平，那么我们可以认为这个模型是可靠的。验证期的数据与模型的预测结果计算出的确定系数高达0.83，与之前的0.81相近，进一步证明了该模型的可靠性。

*策略：何时买入或卖出，数量选择多少？*

我们引入了比特币5A策略。这种策略要求我们根据预警指标的临界值来产生交易信号，进行模拟交易，并统计绩效数据以进行评估。在比特币5A策略中，有三个关键参数：买入预警指标、分批交易天数和卖出预警指标。分批交易天数是为了确保在交易信号发出后，我们可以分批进行交易，从而买到更低的价格、卖到更高的价格，并降低交易冲击成本。

为了找到最优的预警指标临界值和分批交易天数，我们需要反复调整这些参数，并进行回测。回测是通过观察历史数据来建立的一种方法，可以帮助我们更好地理解市场的走势和交易机会。

当预警指标比特币价格偏差低于-0.9时,即比特币价格低于价格下限时，买入。当高于1时，即比特币价格高于价格上限时，卖出。此外，我们将分批交易天数设定为25天，以实现平均买入和平均卖出的策略。在25天内，我们将总资金平均地投入市场，每天买一次；同时，我们也按照相同的节奏卖出仓位，每天卖一次。

*调整临界值：优化交易策略的关键步骤*

为了追求更高的绩效，调整临界值是不可或缺的一步。以下是对分批交易天数和预警指标临界值的调整建议：

- **分批交易天数**：尝试不同的天数，如25天，以观察其对整体绩效的影响。
- **预警指标的买入和卖出临界值**：穷举式迭代调优买入临界值-0.9和卖出临界值1，以找到最佳的阈值组合。

通过这种细致的调整，我们可能找到一个具有较低最大回撤率（例如11%）和较高已平仓交易累计收益率（例如474倍）的优化方案。下图是比特币5A策略回测交易优化图，它为我们提供了策略调整和优化的直观展示。

![TradingView图片](https://www.tradingview.com/x/c12OKLZj/ "TradingView图片")

通过调整分批交易天数和预警指标临界值，我们找到了一个具有较低最大回撤率（例如11%）和较高已平仓交易累计收益率（例如474倍）的优化方案。

*回测交易策略：如何评估交易策略的绩效？*

回测交易策略是比特币5A策略的测试方法。通过回测交易策略，我们可以评估比特币5A策略的性能。回测交易策略的步骤如下：

- **生成交易信号**：根据预警指标的临界值，生成交易信号。
- **模拟交易**：根据交易信号，进行模拟交易。
- **统计绩效数据**：统计模拟交易后的绩效数据，如已平仓交易累计收益率、最大回撤率等。
- **评估交易策略的性能**：根据统计的绩效数据，评估交易策略的性能。

通过这种方式，我们可以更好地把握市场的走势和交易机会，从而实现更加稳健和高效的交易策略。

*绩效评估：如何精确评估历史回测结果？*

在详尽的策略测试后，为了确保结果的准确性和可靠性，我们需要对回测结果进行细致的绩效评估。关键的评估指标包括：

- **净值曲线**：如玫红线所示，它直观地反映了账户净值的增长情况。通过观察净值曲线，我们可以了解策略的整体表现和盈利能力。

这个策略的基本属性是这样的:

交易范围：2015-8-19—2024-2-18，回测范围：2011-8-18—2024-2-18

初始资金：1000USD，订单大小：1个合约，金字塔：50个订单，佣金比率：0.2%，滑点：20个标记号。

比特币5A策略的回测结果如下：

在策略测试器概述图中，我们还获得了以下关键数据：

- **已平仓交易的净利润率**：高达474倍，远超基准，在策略测试器业绩概要图中比特币买入并持有210倍。
- **已平仓交易次数与获胜百分比**：100次交易全部盈利，这展现了策略的稳定性和可靠性。
- **回撤率与赢亏比**：最大回撤率仅为11%，远低于比特币的78%。盈利因子，即赢亏比达到500，进一步证明了策略的优势。

通过这些详细的评估，我们可以清晰地看到比特币5A策略在风险和收益之间的出色平衡。